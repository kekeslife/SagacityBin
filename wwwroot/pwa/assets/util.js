const p=(y,i="id",l="parentId",u="children")=>{const s=Array.from(y),c="|【keke】|",e=s.reduce((t,o,n)=>(t[`${o[l]}${c}${o[i]}`]=n,t),{});let r=Object.keys(e),$=r.length;for(const t of s){if(!t[l])continue;const o=`${c}${t[l]}`;r.some(n=>n.endsWith(o))||(r.push(`null${o}`),e[`null${o}`]=$,s.push({[i]:t[l],[l]:null}),$+=1)}const f=Array.from(s);r=Object.keys(e);for(let t=f.length-1;t>=0;t--){let o=s[t],n=s[e[r.find(h=>h.endsWith(`${c}${o[l]}`))]];n&&(n[u]=[o,...n[u]||[]],f.splice(t,1))}return{[i]:null,[l]:null,[u]:f}};export{p as d};
